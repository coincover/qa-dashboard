"use strict";(self.webpackChunkqa_dashboard=self.webpackChunkqa_dashboard||[]).push([[844],{9068:function(e,r,t){t.d(r,{Z:function(){return j}});var a=t(7592),n=t(9860),o=t(1806),i=t(8310),s=t(7216),l=t(2600),c=t(8119),d=t(9282),h=t(1113),u=t(4315),g=t(3428),x=t(4488),p=t(6417);var Z=()=>(0,p.jsx)(g.Z,{sx:{p:2},children:(0,p.jsx)(i.Z,{sx:{py:0},children:(0,p.jsxs)(s.ZP,{alignItems:"center",disableGutters:!0,sx:{py:0},children:[(0,p.jsx)(l.Z,{children:(0,p.jsx)(x.Z,{variant:"rectangular",width:44,height:44})}),(0,p.jsx)(d.Z,{sx:{py:0},primary:(0,p.jsx)(x.Z,{variant:"rectangular",height:20}),secondary:(0,p.jsx)(x.Z,{variant:"text"})})]})})});const v=(0,a.ZP)(u.Z)((e=>{var r,t;let{theme:a,backgroundColor:n}=e;return{backgroundColor:n&&(null===(r=a.palette[n])||void 0===r?void 0:r.dark),color:n&&(null===(t=a.palette[n])||void 0===t?void 0:t.light),overflow:"hidden",position:"relative","&:after":{content:'""',position:"absolute",width:210,height:210,background:`linear-gradient(210.04deg, ${n?a.palette[n][200]:a.palette.warning.dark} -50.94%, rgba(144, 202, 249, 0) 83.49%)`,borderRadius:"50%",top:-30,right:-180},"&:before":{content:'""',position:"absolute",width:210,height:210,background:`linear-gradient(140.9deg, ${n?a.palette[n][200]:a.palette.warning.dark} -14.02%, rgba(144, 202, 249, 0) 77.58%)`,borderRadius:"50%",top:-160,right:-130}}}));var j=e=>{let{isLoading:r,title:t,subtitle:a,result:u,icon:g,backgroundColor:x}=e;const j=(0,n.Z)();return(0,p.jsx)(p.Fragment,{children:r||String(t).includes("undefined")||String(u).includes("undefined")?(0,p.jsx)(Z,{}):(0,p.jsx)(v,{border:!1,content:!1,backgroundColor:x,sx:{boxShadow:j.shadows[10]},children:(0,p.jsx)(o.Z,{sx:{p:2},children:(0,p.jsx)(i.Z,{sx:{py:0},children:(0,p.jsxs)(s.ZP,{alignItems:"center",disableGutters:!0,sx:{py:0},children:[(0,p.jsx)(l.Z,{children:(0,p.jsx)(c.Z,{variant:"rounded",sx:{...j.typography.commonAvatar,...j.typography.largeAvatar,backgroundColor:x?j.palette[x][800]:j.palette.warning.light,color:x?"#fff":j.palette.warning.dark},children:g})}),(0,p.jsx)(d.Z,{sx:{py:0,mt:.45,mb:.45},primary:(0,p.jsx)(h.Z,{variant:"h4",sx:{color:x&&"#fff"},children:t}),secondary:(0,p.jsx)(h.Z,{variant:"subtitle2",sx:{color:x?"primary.light":j.palette.grey[500],mt:.25},children:a})}),(0,p.jsx)(h.Z,{variant:"h2",sx:{color:((e,r)=>"OK"===r?j.palette.success.main:"ERROR"===r?j.palette.orange.dark:e?"#fff":"black")(x,u)},children:u})]})})})})})}},8844:function(e,r,t){t.r(r),t.d(r,{default:function(){return F}});var a=t(7313),n=t(9019),o=t(9860),i=t(4315),s=(t(9068),t(4076)),l=t(7478),c=t(7131),d=t(7829),h=t(8119),u=t(6212),g=t(5033),x=t(1806),p=t(1113),Z=t(6835),v=t(3477),j=t(3467),m=t(1629),b=t(501),f=t(9428),w=t(3665),y=t(4851),R=t(8191),k=t(9841),z=t(816),C=t(6417);function S(e){const{row:r}=e,[t,n]=a.useState(!1),o=r.result[r.result.length-1],i=e=>{const r=parseFloat(e);return r>=90&&r<=100?"success":r>=80&&r<90?"warning":"error"};const m=(e,r)=>{window.open(`https://github.com/coincover/coincover-b2b2c/pull/${r}`,"_blank")};return(0,C.jsxs)(a.Fragment,{children:[(0,C.jsxs)(s.Z,{sx:{"& > *":{borderBottom:"unset"}},children:[(0,C.jsx)(l.Z,{children:(0,C.jsx)(c.Z,{"aria-label":"expand row",size:"small",onClick:()=>n(!t),children:t?(0,C.jsx)(w.Z,{}):(0,C.jsx)(f.Z,{})})}),(0,C.jsx)(l.Z,{component:"th",scope:"row",children:z(o.date).format("DD/MM/YYYY h:mm:ss")}),(0,C.jsx)(l.Z,{align:"right",onClick:()=>m(historyRow,r.pull_request),hover:!0,style:{cursor:"pointer",textDecoration:"underline"},children:r.pull_request}),(0,C.jsx)(l.Z,{children:(0,C.jsx)(d.Z,{title:o.author||"Not assigned",children:(0,C.jsx)(h.Z,{alt:o.author,src:`https://ui-avatars.com/api/?name=${o.author}&background=random&?bold=true`})})}),(0,C.jsx)(l.Z,{children:o.commit}),(0,C.jsxs)(l.Z,{align:"right",children:[(0,C.jsx)(u.Z,{label:`${o.percentage}%`,color:i(o.percentage),variant:"combined",sx:{borderRadius:"5px",width:"100%"}}),function(e){if(!e.result||e.result.length<2)return(0,C.jsx)(k.Z,{});const r=e.result[e.result.length-1],t=e.result[e.result.length-2];if(!r||!t)return"Result data missing";const a=parseFloat(r.percentage),n=parseFloat(t.percentage);return isNaN(a)||isNaN(n)?(0,C.jsx)(k.Z,{}):a>n?(0,C.jsx)(y.Z,{}):a<n?(0,C.jsx)(R.Z,{}):(0,C.jsx)(k.Z,{})}(r)]})]}),(0,C.jsx)(s.Z,{children:(0,C.jsx)(l.Z,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:(0,C.jsx)(g.Z,{in:t,timeout:"auto",unmountOnExit:!0,children:(0,C.jsxs)(x.Z,{sx:{margin:1},children:[(0,C.jsx)(p.Z,{variant:"h6",gutterBottom:!0,component:"div",children:"History"}),(0,C.jsxs)(Z.Z,{size:"small","aria-label":"purchases",children:[(0,C.jsx)(v.Z,{children:(0,C.jsxs)(s.Z,{children:[(0,C.jsx)(l.Z,{children:"Date"}),(0,C.jsx)(l.Z,{children:"Author"}),(0,C.jsx)(l.Z,{align:"right",children:"Commit"}),(0,C.jsx)(l.Z,{align:"right",children:"Function Coverage"}),(0,C.jsx)(l.Z,{align:"right",children:"Line Coverage"}),(0,C.jsx)(l.Z,{align:"right",children:"Statement Coverage"}),(0,C.jsx)(l.Z,{align:"right",children:"Overall Coverage"})]})}),(0,C.jsx)(j.Z,{children:r.result.map((e=>(0,C.jsxs)(s.Z,{onClick:()=>m(0,r.pull_request),hover:!0,style:{cursor:"pointer"},children:[(0,C.jsx)(l.Z,{component:"th",scope:"row",children:z(e.date).format("DD/MM/YYYY h:mm:ss")}),(0,C.jsx)(l.Z,{children:e.author}),(0,C.jsx)(l.Z,{align:"right",children:e.commit}),(0,C.jsx)(l.Z,{align:"right",children:(0,C.jsx)(u.Z,{label:`${e.function_coverage}%`,color:i(e.function_coverage),variant:"combined",sx:{borderRadius:"5px",width:"100%"}})}),(0,C.jsx)(l.Z,{align:"right",children:(0,C.jsx)(u.Z,{label:`${e.line_coverage}%`,color:i(e.line_coverage),variant:"combined",sx:{borderRadius:"5px",width:"100%"}})}),(0,C.jsx)(l.Z,{align:"right",children:(0,C.jsx)(u.Z,{label:`${e.statement_coverage}%`,color:i(e.statement_coverage),variant:"combined",sx:{borderRadius:"5px",width:"100%"}})}),(0,C.jsx)(l.Z,{align:"right",children:(0,C.jsx)(u.Z,{label:`${e.percentage}%`,color:i(e.percentage),variant:"combined",sx:{borderRadius:"5px",width:"100%"}})})]},e.date)))})]})]})})})})]})}var $=e=>{let{isLoading:r,data:t}=e;const a=(0,o.Z)();return(0,C.jsx)(C.Fragment,{children:!r&&t.length>0?(0,C.jsx)(m.Z,{component:b.Z,children:(0,C.jsxs)(Z.Z,{"aria-label":"collapsible table",children:[(0,C.jsx)(v.Z,{children:(0,C.jsxs)(s.Z,{children:[(0,C.jsx)(l.Z,{}),(0,C.jsx)(l.Z,{children:"Date"}),(0,C.jsx)(l.Z,{align:"right",children:"Pull Request"}),(0,C.jsx)(l.Z,{children:"Author"}),(0,C.jsx)(l.Z,{children:"Commit"}),(0,C.jsx)(l.Z,{align:"right",children:"Overall Coverage"})]})}),(0,C.jsx)(j.Z,{children:t.map((e=>(0,C.jsx)(S,{row:e},e.id)))})]})}):(0,C.jsx)(i.Z,{sx:{boxShadow:a.shadows[6]},children:(0,C.jsx)(p.Z,{sx:{textAlign:"center"},children:"No Data"})})})},M=t(5662);var _=t(2401);var F=e=>{let{title:r}=e;const[t,s]=(0,a.useState)(!0),[l,c]=(0,a.useState)([]),[d,h]=(0,a.useState)([]),u=(0,o.Z)();return(0,a.useEffect)((()=>{(async()=>{try{s(!0);const e=await async function(e){try{return(await(0,M.Z)(`https://qa-dashboard-4gfp.onrender.com/unit/${e}`,{method:"GET"})).data}catch(r){return generateErrorReturn(r)}}(r.toLowerCase().replace(/\s/g,"_"));c(e),s(!1)}catch(e){console.error("Error fetching data:",e)}finally{s(!1)}})()}),[r]),(0,a.useEffect)((()=>{h(l)}),[l,r]),(0,C.jsx)(i.Z,{title:r,sx:{boxShadow:u.shadows[6]},children:(0,C.jsx)(n.ZP,{container:!0,spacing:_.d,children:(0,C.jsx)(n.ZP,{item:!0,xs:12,children:(0,C.jsx)(n.ZP,{container:!0,spacing:_.d,children:(0,C.jsx)(n.ZP,{item:!0,xs:12,sm:12,md:12,lg:12,children:t?(0,C.jsx)("div",{children:"Loading..."}):(0,C.jsx)($,{data:d})})})})})})}},9428:function(e,r,t){var a=t(4836);r.Z=void 0;var n=a(t(5045)),o=t(6417),i=(0,n.default)((0,o.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");r.Z=i},3665:function(e,r,t){var a=t(4836);r.Z=void 0;var n=a(t(5045)),o=t(6417),i=(0,n.default)((0,o.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");r.Z=i},9841:function(e,r,t){var a=t(4836);r.Z=void 0;var n=a(t(5045)),o=t(6417),i=(0,n.default)((0,o.jsx)("path",{d:"M6 19h12v2H6z"}),"Minimize");r.Z=i},4851:function(e,r,t){var a=t(4836);r.Z=void 0;var n=a(t(5045)),o=t(6417),i=(0,n.default)((0,o.jsx)("path",{d:"M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"}),"NorthEast");r.Z=i},8191:function(e,r,t){var a=t(4836);r.Z=void 0;var n=a(t(5045)),o=t(6417),i=(0,n.default)((0,o.jsx)("path",{d:"M19 9h-2v6.59L5.41 4 4 5.41 15.59 17H9v2h10V9z"}),"SouthEast");r.Z=i},7131:function(e,r,t){t.d(r,{Z:function(){return b}});var a=t(3366),n=t(7462),o=t(7313),i=t(4146),s=t(1921),l=t(7551),c=t(7592),d=t(7342),h=t(5272),u=t(1615),g=t(7430),x=t(2298);function p(e){return(0,x.Z)("MuiIconButton",e)}var Z=(0,g.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),v=t(6417);const j=["edge","children","className","color","disabled","disableFocusRipple","size"],m=(0,c.ZP)(h.Z,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,"default"!==t.color&&r[`color${(0,u.Z)(t.color)}`],t.edge&&r[`edge${(0,u.Z)(t.edge)}`],r[`size${(0,u.Z)(t.size)}`]]}})((e=>{let{theme:r,ownerState:t}=e;return(0,n.Z)({textAlign:"center",flex:"0 0 auto",fontSize:r.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(r.vars||r).palette.action.active,transition:r.transitions.create("background-color",{duration:r.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:r.vars?`rgba(${r.vars.palette.action.activeChannel} / ${r.vars.palette.action.hoverOpacity})`:(0,l.Fq)(r.palette.action.active,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})}),(e=>{let{theme:r,ownerState:t}=e;var a;const o=null==(a=(r.vars||r).palette)?void 0:a[t.color];return(0,n.Z)({},"inherit"===t.color&&{color:"inherit"},"inherit"!==t.color&&"default"!==t.color&&(0,n.Z)({color:null==o?void 0:o.main},!t.disableRipple&&{"&:hover":(0,n.Z)({},o&&{backgroundColor:r.vars?`rgba(${o.mainChannel} / ${r.vars.palette.action.hoverOpacity})`:(0,l.Fq)(o.main,r.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===t.size&&{padding:5,fontSize:r.typography.pxToRem(18)},"large"===t.size&&{padding:12,fontSize:r.typography.pxToRem(28)},{[`&.${Z.disabled}`]:{backgroundColor:"transparent",color:(r.vars||r).palette.action.disabled}})}));var b=o.forwardRef((function(e,r){const t=(0,d.Z)({props:e,name:"MuiIconButton"}),{edge:o=!1,children:l,className:c,color:h="default",disabled:g=!1,disableFocusRipple:x=!1,size:Z="medium"}=t,b=(0,a.Z)(t,j),f=(0,n.Z)({},t,{edge:o,color:h,disabled:g,disableFocusRipple:x,size:Z}),w=(e=>{const{classes:r,disabled:t,color:a,edge:n,size:o}=e,i={root:["root",t&&"disabled","default"!==a&&`color${(0,u.Z)(a)}`,n&&`edge${(0,u.Z)(n)}`,`size${(0,u.Z)(o)}`]};return(0,s.Z)(i,p,r)})(f);return(0,v.jsx)(m,(0,n.Z)({className:(0,i.Z)(w.root,c),centerRipple:!0,focusRipple:!x,disabled:g,ref:r,ownerState:f},b,{children:l}))}))}}]);