"use strict";(self.webpackChunkqa_dashboard=self.webpackChunkqa_dashboard||[]).push([[844],{2808:function(e,r,t){var o=t(2946);r.Z=o.Z.create({baseURL:"https://qa-dashboard-4gfp.onrender.com",headers:{"Content-type":"application/json"}})},9584:function(e,r,t){var o=t(7313),a=t(3428),n=t(4641),i=t(1113),s=t(4313),l=t(3405),c=t(9860),d=t(6417);const h={"& .MuiCardHeader-action":{mr:0}},u=(0,o.forwardRef)(((e,r)=>{let{border:t=!0,boxShadow:o,children:u,content:x=!0,contentClass:Z="",contentSX:g={},darkTitle:p,secondary:v,shadow:j,sx:m={},title:b,...f}=e;const w=(0,c.Z)();return(0,d.jsxs)(a.Z,{ref:r,...f,sx:{border:t?"1px solid":"none",borderColor:w.palette.primary[200]+25,":hover":{boxShadow:o?j||"0 2px 14px 0 rgb(32 40 45 / 8%)":"inherit"},...m},children:[b&&(0,d.jsx)(n.Z,{sx:h,title:p?(0,d.jsx)(i.Z,{variant:"h3",children:b}):b,action:v}),b&&(0,d.jsx)(s.Z,{}),x&&(0,d.jsx)(l.Z,{sx:g,className:Z,children:u}),!x&&u]})}));r.Z=u},8844:function(e,r,t){t.r(r),t.d(r,{default:function(){return F}});var o=t(7313),a=t(9019),n=t(9860),i=t(9584),s=t(2401),l=t(2808);var c=t(9428),d=t(3665),h=t(9841),u=t(4851),x=t(8191),Z=t(4076),g=t(7478),p=t(7131),v=t(7829),j=t(8119),m=t(6212),b=t(5033),f=t(1806),w=t(1113),y=t(6835),R=t(3477),z=t(3467),C=t(1629),S=t(501),$=t(816),k=t(6417);function M(e){const{row:r}=e,[t,a]=o.useState(!1),n=r.result[r.result.length-1],i=e=>{const r=parseFloat(e);return r>=90&&r<=100?"success":r>=80&&r<90?"warning":"error"};const s=(e,r)=>{window.open(`https://github.com/coincover/coincover-b2b2c/pull/${r}`,"_blank")};return(0,k.jsxs)(o.Fragment,{children:[(0,k.jsxs)(Z.Z,{sx:{"& > *":{borderBottom:"unset"}},children:[(0,k.jsx)(g.Z,{children:(0,k.jsx)(p.Z,{"aria-label":"expand row",size:"small",onClick:()=>a(!t),children:t?(0,k.jsx)(d.Z,{}):(0,k.jsx)(c.Z,{})})}),(0,k.jsx)(g.Z,{component:"th",scope:"row",children:$(n.date).format("DD/MM/YYYY h:mm:ss")}),(0,k.jsx)(g.Z,{align:"right",onClick:()=>s(historyRow,r.pull_request),hover:!0,style:{cursor:"pointer",textDecoration:"underline"},children:r.pull_request}),(0,k.jsx)(g.Z,{children:(0,k.jsx)(v.Z,{title:n.author||"Not assigned",children:(0,k.jsx)(j.Z,{alt:n.author,src:`https://ui-avatars.com/api/?name=${n.author}&background=random&?bold=true`})})}),(0,k.jsx)(g.Z,{children:n.commit}),(0,k.jsxs)(g.Z,{align:"right",children:[(0,k.jsx)(m.Z,{label:`${n.percentage}%`,color:i(n.percentage),variant:"combined",sx:{borderRadius:"5px",width:"100%"}}),function(e){if(!e.result||e.result.length<2)return(0,k.jsx)(h.Z,{});const r=e.result[e.result.length-1],t=e.result[e.result.length-2];if(!r||!t)return"Result data missing";const o=parseFloat(r.percentage),a=parseFloat(t.percentage);return isNaN(o)||isNaN(a)?(0,k.jsx)(h.Z,{}):o>a?(0,k.jsx)(u.Z,{}):o<a?(0,k.jsx)(x.Z,{}):(0,k.jsx)(h.Z,{})}(r)]})]}),(0,k.jsx)(Z.Z,{children:(0,k.jsx)(g.Z,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:(0,k.jsx)(b.Z,{in:t,timeout:"auto",unmountOnExit:!0,children:(0,k.jsxs)(f.Z,{sx:{margin:1},children:[(0,k.jsx)(w.Z,{variant:"h6",gutterBottom:!0,component:"div",children:"History"}),(0,k.jsxs)(y.Z,{size:"small","aria-label":"purchases",children:[(0,k.jsx)(R.Z,{children:(0,k.jsxs)(Z.Z,{children:[(0,k.jsx)(g.Z,{children:"Date"}),(0,k.jsx)(g.Z,{children:"Author"}),(0,k.jsx)(g.Z,{align:"right",children:"Commit"}),(0,k.jsx)(g.Z,{align:"right",children:"Function Coverage"}),(0,k.jsx)(g.Z,{align:"right",children:"Line Coverage"}),(0,k.jsx)(g.Z,{align:"right",children:"Statement Coverage"}),(0,k.jsx)(g.Z,{align:"right",children:"Overall Coverage"})]})}),(0,k.jsx)(z.Z,{children:r.result.map((e=>(0,k.jsxs)(Z.Z,{onClick:()=>s(0,r.pull_request),hover:!0,style:{cursor:"pointer"},children:[(0,k.jsx)(g.Z,{component:"th",scope:"row",children:$(e.date).format("DD/MM/YYYY h:mm:ss")}),(0,k.jsx)(g.Z,{children:e.author}),(0,k.jsx)(g.Z,{align:"right",children:e.commit}),(0,k.jsx)(g.Z,{align:"right",children:(0,k.jsx)(m.Z,{label:`${e.function_coverage}%`,color:i(e.function_coverage),variant:"combined",sx:{borderRadius:"5px",width:"100%"}})}),(0,k.jsx)(g.Z,{align:"right",children:(0,k.jsx)(m.Z,{label:`${e.line_coverage}%`,color:i(e.line_coverage),variant:"combined",sx:{borderRadius:"5px",width:"100%"}})}),(0,k.jsx)(g.Z,{align:"right",children:(0,k.jsx)(m.Z,{label:`${e.statement_coverage}%`,color:i(e.statement_coverage),variant:"combined",sx:{borderRadius:"5px",width:"100%"}})}),(0,k.jsx)(g.Z,{align:"right",children:(0,k.jsx)(m.Z,{label:`${e.percentage}%`,color:i(e.percentage),variant:"combined",sx:{borderRadius:"5px",width:"100%"}})})]},e.date)))})]})]})})})})]})}var _=e=>{let{isLoading:r,data:t}=e;const o=(0,n.Z)();return(0,k.jsx)(k.Fragment,{children:!r&&t.length>0?(0,k.jsx)(C.Z,{component:S.Z,children:(0,k.jsxs)(y.Z,{"aria-label":"collapsible table",children:[(0,k.jsx)(R.Z,{children:(0,k.jsxs)(Z.Z,{children:[(0,k.jsx)(g.Z,{}),(0,k.jsx)(g.Z,{children:"Date"}),(0,k.jsx)(g.Z,{align:"right",children:"Pull Request"}),(0,k.jsx)(g.Z,{children:"Author"}),(0,k.jsx)(g.Z,{children:"Commit"}),(0,k.jsx)(g.Z,{align:"right",children:"Overall Coverage"})]})}),(0,k.jsx)(z.Z,{children:t.map((e=>(0,k.jsx)(M,{row:e},e.id)))})]})}):(0,k.jsx)(i.Z,{sx:{boxShadow:o.shadows[6]},children:(0,k.jsx)(w.Z,{sx:{textAlign:"center"},children:"No Data"})})})};var F=e=>{let{title:r}=e;const[t,c]=(0,o.useState)(!0),[d,h]=(0,o.useState)([]),[u,x]=(0,o.useState)([]),Z=(0,n.Z)();return(0,o.useEffect)((()=>{(async()=>{try{c(!0);const e=await async function(e){try{return(await l.Z.get(`/unit/${e}`)).data}catch(r){return generateErrorReturn(r)}}(r.toLowerCase().replace(/\s/g,"_"));h(e),c(!1)}catch(e){console.error("Error fetching data:",e)}finally{c(!1)}})()}),[r]),(0,o.useEffect)((()=>{x(d)}),[d,r]),(0,k.jsx)(i.Z,{title:r,sx:{boxShadow:Z.shadows[6]},children:(0,k.jsx)(a.ZP,{container:!0,spacing:s.d,children:(0,k.jsx)(a.ZP,{item:!0,xs:12,children:(0,k.jsx)(a.ZP,{container:!0,spacing:s.d,children:(0,k.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:12,lg:12,children:t?(0,k.jsx)("div",{children:"Loading..."}):(0,k.jsx)(_,{data:u})})})})})})}},9428:function(e,r,t){var o=t(4836);r.Z=void 0;var a=o(t(5045)),n=t(6417),i=(0,a.default)((0,n.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");r.Z=i},3665:function(e,r,t){var o=t(4836);r.Z=void 0;var a=o(t(5045)),n=t(6417),i=(0,a.default)((0,n.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");r.Z=i},9841:function(e,r,t){var o=t(4836);r.Z=void 0;var a=o(t(5045)),n=t(6417),i=(0,a.default)((0,n.jsx)("path",{d:"M6 19h12v2H6z"}),"Minimize");r.Z=i},4851:function(e,r,t){var o=t(4836);r.Z=void 0;var a=o(t(5045)),n=t(6417),i=(0,a.default)((0,n.jsx)("path",{d:"M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"}),"NorthEast");r.Z=i},8191:function(e,r,t){var o=t(4836);r.Z=void 0;var a=o(t(5045)),n=t(6417),i=(0,a.default)((0,n.jsx)("path",{d:"M19 9h-2v6.59L5.41 4 4 5.41 15.59 17H9v2h10V9z"}),"SouthEast");r.Z=i},7131:function(e,r,t){t.d(r,{Z:function(){return b}});var o=t(3366),a=t(7462),n=t(7313),i=t(4146),s=t(1921),l=t(7551),c=t(7592),d=t(7342),h=t(5272),u=t(1615),x=t(7430),Z=t(2298);function g(e){return(0,Z.Z)("MuiIconButton",e)}var p=(0,x.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),v=t(6417);const j=["edge","children","className","color","disabled","disableFocusRipple","size"],m=(0,c.ZP)(h.Z,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,"default"!==t.color&&r[`color${(0,u.Z)(t.color)}`],t.edge&&r[`edge${(0,u.Z)(t.edge)}`],r[`size${(0,u.Z)(t.size)}`]]}})((e=>{let{theme:r,ownerState:t}=e;return(0,a.Z)({textAlign:"center",flex:"0 0 auto",fontSize:r.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(r.vars||r).palette.action.active,transition:r.transitions.create("background-color",{duration:r.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:r.vars?`rgba(${r.vars.palette.action.activeChannel} / ${r.vars.palette.action.hoverOpacity})`:(0,l.Fq)(r.palette.action.active,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})}),(e=>{let{theme:r,ownerState:t}=e;var o;const n=null==(o=(r.vars||r).palette)?void 0:o[t.color];return(0,a.Z)({},"inherit"===t.color&&{color:"inherit"},"inherit"!==t.color&&"default"!==t.color&&(0,a.Z)({color:null==n?void 0:n.main},!t.disableRipple&&{"&:hover":(0,a.Z)({},n&&{backgroundColor:r.vars?`rgba(${n.mainChannel} / ${r.vars.palette.action.hoverOpacity})`:(0,l.Fq)(n.main,r.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===t.size&&{padding:5,fontSize:r.typography.pxToRem(18)},"large"===t.size&&{padding:12,fontSize:r.typography.pxToRem(28)},{[`&.${p.disabled}`]:{backgroundColor:"transparent",color:(r.vars||r).palette.action.disabled}})}));var b=n.forwardRef((function(e,r){const t=(0,d.Z)({props:e,name:"MuiIconButton"}),{edge:n=!1,children:l,className:c,color:h="default",disabled:x=!1,disableFocusRipple:Z=!1,size:p="medium"}=t,b=(0,o.Z)(t,j),f=(0,a.Z)({},t,{edge:n,color:h,disabled:x,disableFocusRipple:Z,size:p}),w=(e=>{const{classes:r,disabled:t,color:o,edge:a,size:n}=e,i={root:["root",t&&"disabled","default"!==o&&`color${(0,u.Z)(o)}`,a&&`edge${(0,u.Z)(a)}`,`size${(0,u.Z)(n)}`]};return(0,s.Z)(i,g,r)})(f);return(0,v.jsx)(m,(0,a.Z)({className:(0,i.Z)(w.root,c),centerRipple:!0,focusRipple:!Z,disabled:x,ref:r,ownerState:f},b,{children:l}))}))}}]);